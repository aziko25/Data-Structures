#include <iostream>
using namespace std;
struct Node {
    int data;
    struct Node* next;
    Node(int data) {
        this->data = data;
        next = NULL;
    }
};
struct LinkedList {
    Node* head;
    LinkedList() { head = NULL; }
    // Function to print linked list
    void rreverse(Node* curr, Node* prev) {
        if (curr == NULL) {
            // prev -> next = curr;
            head = prev;
            return;
        }
        rreverse(curr->next, curr);
        curr->next = prev;
        prev->next = NULL;
    }

    void reverse() {
        auto curr = head; // current pointer
        Node* prev = NULL; // previous pointer
        rreverse(curr->next, curr);
    }
    void print() {
        struct Node* temp = head;
        while (temp != NULL) {
            cout << temp->data << " ";
            temp = temp->next;
        }
    }
    void push(int data) {
        Node* temp = new Node(data);
        temp->next = head;
        head = temp;
    }
};
int main() {
    LinkedList list;
    list.push(20);
    list.push(1);
    list.push(15);
    list.push(85);
    list.print();
    list.reverse();
    cout << "\n";
    list.print();

}